<section id="page-breathing">
	<article class="left">
        <h1>
            What does <i>your</i> lung look like?
        </h1>

        <div id="info-text-pca" class="hidden">

            <h4>
                PCA
            </h4>

            <img src="images/back.svg" id="pca-back" class="info-button gray">
            <img src="images/forward.svg" id="pca-forward" class="info-button clickable">

            <p id="info-text-pca-1" class="visible">
                Principal Component Analysis or PCA, simplifies the complex patterns of shape variation into independent variables (principal components), providing easily interpretable metrics of shape. PCA is based on sound mathematical concepts. 
            </p>

            <p id="info-text-pca-2" class="hidden">
                We employed CT images from a cohort of healthy adult volunteers aged 20-93 years of age.  We quantified average lung shape (left lung + right lung + lobe fissures) using a PCA to derive a statistical shape average model and its principal modes of shape variation. 
            </p>

            <p id="info-text-pca-3" class="hidden">
                We found that lung shape associated with age, sex, height weight, and also lung function measurements. This interesting finding implies that if we know demographical information and lung function, we could back calculate lung shape within reasonable precision.
            </p>

            <p id="info-text-pca-4" class="hidden">
                1.  Lung and fissure shape is associated with age in healthy never-smoking adults aged 20-90 years, Scientific Reports, 2020
                <br>
                <br>
                2. Age-Associated Changes in Thoracic Structure and the Impact on Lung Function: A Quantitative Study
                Am J Respir Crit Care Med 2017; 195; A4883
            </p>
            

        </div>

        <div id="info-parameters">
            <div id="info-text-fvc" class="hidden">

                <h4>FVC</h4>

                <p>
                    Information about FVC
                </p>

            </div>
            
            <div id="info-text-rvtlc" class="hidden">

                <h4>RV/TLC</h4>

                <p>
                    Information about RV/TLC
                </p>

            </div>

            <div id="info-text-dlco" class="hidden">

                <h4>DLCO</h4>

                <p>
                    Information about DLCO
                </p>

            </div>

            <div id="info-text-tlc" class="hidden">

                <h4>TLC</h4>

                <p>
                    Information about TLC
                </p>

            </div>
        </div>
	</article>
	<article id="slider-section" class="right clickable">
        
        <div class="center-text">
            <div>
                Autofill parameters:
                <button id="auto-fill-toggle">OFF</button>
                <span class="right bigger" id="info-pca">&#9432</span>
            </div>
            <div>
                Toggle Menu:
                <button id="compare-menu-button">Sliders</button>
            </div>
        </div>

        <div id="lung-section" class="visible">
            <div id="demographics-section-slider">
                <h2 class="center-text">Demographics</h2>
    
                Age: <span id="show-age"></span>
                <input type="range" min="20" max="90" value="20" class="slider" id="slider-age">
                Height: <span id="show-height"></span>
                <input type="range" min="1" max="200" value="1" class="slider" id="slider-height">
                BMI: <span id="show-bmi"></span>
                <input type="range" min="15" max="40" value="15" class="slider" id="slider-bmi">
                Sex: <span id="show-gender"></span>
                <input type="range" min="0" max="1" value="0" class="slider" id="slider-gender">
            </div>
            
            
            <div id="parameters-section-slider">
                <h2 class="center-text">Lung Parameters</h2>
    
                <div>
                    <span class="left">
                        FVC: <span id="show-fvc"></span>
                    </span>
                    <span class="right" id="info-fvc">&#9432</span>
                </div>
                <input type="range" min="0" max="10" value="1" step="0.1" class="slider" id="slider-fvc">
                
                <div>
                    <span class="left">
                        FV/TLC: <span id="show-rvtlc"></span>
                    </span>
                    <span class="right" id="info-rvtlc">&#9432</span>
                </div>
                <input type="range" min="0" max="50" value="1" step="0.1" class="slider" id="slider-rvtlc">
                
                <div>
                    <span class="left">
                        DLCO: <span id="show-dlco"></span>
                    </span>
                    <span class="right" id="info-dlco">&#9432</span>
                </div>
                <input type="range" min="0" max="50" value="1" step="0.1" class="slider" id="slider-dlco">
    
                <div>
                    <span class="left">
                        TLC: <span id="show-tlc"></span>
                    </span>
                    <span class="right" id="info-tlc">&#9432</span>
                </div>
                <input type="range" min="0" max="20" value="1" step="0.1" class="slider" id="slider-tlc">
            </div>
        </div>

        <div id="compare-section" class="hidden">
            <div id="compare-section-slider">

                <h2 class="center-text">
                    Compare Mode: 
                    <button id="compare-mode-button">ON</button>
                </h2>

                <h2 class="center-text">Average lung</h2>
    
                Opacity: <span id="average-opacity"></span>%
                <input type="range" min="0" max="100" value="50" class="slider" id="slider-average-opacity">

                Colour: <span id="average-colour"></span>
                <input type="color" id="selector-average-colour">

                <h2 class="center-text">Custom lung</h2>
    
                Opacity: <span id="custom-opacity"></span>%
                <input type="range" min="0" max="100" value="100" class="slider" id="slider-custom-opacity">

                Colour: <span id="custom-colour"></span>
                <input type="color" id="selector-custom-colour">
            </div>
        </div>
    </article>

    <div id='pca-logos'>
        <img src="images/MedTech CoRE Logo.png" />
        <img src="images/abi-hc-rgb-new.png" />
    </div>
    

</section>

<script>
//initialise the scripts that control the sliders
initSliders();
</script>
